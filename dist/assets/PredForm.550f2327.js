import{d as w,l as D,r as y,a as G,o as d,c as _,e as s,b as u,w as o,N as E,O as g,M as x,g as C}from"./index.31dccc3c.js";import{E as H}from"./el-pagination.17247735.js";import{E as J}from"./el-input.e896c99c.js";import"./el-tag.90498528.js";import{E as K,a as Q}from"./el-select.25e67bef.js";import{E as W,a as X}from"./el-table-column.264a561e.js";/* empty css                    */import{E as Z,a as ee}from"./el-form-item.353be619.js";import{E as ue}from"./el-date-picker.dbb77013.js";import{E as le,a as ae,q as te,r as oe,s as se,t as ne}from"./api.7e2021e9.js";import{g as V}from"./getlist.8ed10af4.js";import{E as v}from"./index.65cd20df.js";import{E as k}from"./index.3251bb79.js";import"./isEqual.cc623a36.js";import"./event.776e7e11.js";import"./scroll.367568bf.js";import"./index.d90d840d.js";import"./_commonjsHelpers.712cc82f.js";import"./index.09da608e.js";const re={class:"crumbs"},ie=s("i",{class:"el-icon-lx-calendar"},null,-1),de=C(" \u8868\u5355 "),pe=C("\u65F6\u5E8F\u9884\u6D4B\u53C2\u6570\u8BBE\u5B9A"),_e={class:"container"},me=s("div",{class:"tip"},[s("p",null,"1\u3001BI\u5E95\u8868\u6570\u636E\u548C\u65E5\u671F\u7279\u5F81\u8868\u8FDE\u63A5\u540E\u63A8\u9001\u5230\u5E73\u53F0\u3002"),s("p",null,"2\u3001\u524D\u7AEF\u9009\u62E9\u6570\u636E\u9884\u6D4B\u7684\u8303\u56F4\uFF1A\u54C1\u7C7B\u7684\u8303\u56F4\uFF0C\u7EC4\u7EC7\u7EF4\u5EA6\u7684\u8303\u56F4\uFF0C\u8F93\u51FA\u7684\u65E5\u671F\u7EF4\u5EA6\uFF0C\u9884\u6D4B\u591A\u957F\u65F6\u95F4\uFF0C\u9884\u6D4B\u8425\u4E1A\u989D\u8FD8\u662F\u9500\u91CF\u3002"),s("p",null,"3\u3001\u6309\u7167\u6700\u5C0F\u54C1\u7C7B\u548C\u7EC4\u7EC7\u7EF4\u5EA6\u5355\u6B21\u9884\u6D4B\uFF0C\u5148\u4E0D\u5B9E\u884C\u6279\u91CF\u9884\u6D4B")],-1),ce={class:"form-box"},Fe=s("span",{style:{"margin-left":"20px","margin-right":"10px"}},"\u54C1\u7C7B\u7EF4\u5EA6\u503C",-1),Ee=s("span",{style:{"margin-left":"20px","margin-right":"10px"}},"\u7EC4\u7EC7\u7EF4\u5EA6\u503C",-1),ge=s("span",{style:{"margin-left":"20px","margin-right":"10px"}},"\u9884\u6D4B\u5F00\u59CB\u65F6\u95F4",-1),be=s("span",{style:{"margin-left":"20px","margin-right":"10px"}},"\u9884\u6D4B\u533A\u95F4",-1),ve=C("\u8868\u5355\u63D0\u4EA4"),Ce=C("\u91CD\u7F6E\u8868\u5355"),fe={class:"form-table"},Be={class:"pagination"},Ae=w({name:"predform"}),je=w({...Ae,setup(he){const z=t=>{n.pagesize=t},P=t=>{n.currentPage=t},p=D([]),n=y({pagesize:10,currentPage:1,option_class_value:{},option_region_value:{}}),B=[{value:"table0202",label:"0202\u95E8\u5E97+skc\u7EF4\u5EA6\u5546\u54C1\u65E5\u62A5\u8868\u6570\u636E\u96C6"}],I=[{value:"business_qty",label:"\u8425\u4E1A\u9500\u552E\u91CF"},{value:"business_amount",label:"\u8425\u4E1A\u989D"}],S=[{value:"days",label:"\u6309\u5929"},{value:"months",label:"\u6309\u6708"}],U=[{value:"zzdalei_desc",label:"\u5927\u7C7B\u540D\u79F0\uFF08SAP\uFF09"},{value:"zzzhonglei_desc",label:"\u4E2D\u7C7B\u540D\u79F0\uFF08SAP\uFF09"},{value:"xiaolei_desc",label:"\u5C0F\u7C7B\u540D\u79F0\uFF08SAP\uFF09"}],L=[{value:"branch_id",label:"\u8FDE\u9501\u516C\u53F8ID"},{value:"org_org_department_id",label:"\u8425\u4E1A\u90E8ID"},{value:"org_operational_region_id",label:"\u8425\u4E1A\u5927\u533AID"}],f=D(),a=y({name:"",business_class:"",class_dim:"",class_value:"",region_dim:"",region_value:"",time_scale:"",start_sdate:"",daterange:3});(()=>{a.name=B[0].value})();const M=()=>{const t=k.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"});let l;l={class_dim:a.class_dim},console.log(l),oe(l).then(r=>{r.data.msg==="success"?(p.value=r.data.data,n.option_class_value=V(p,"class_value"),t.close()):(v.error(r.data.message),t.close())})},N=()=>{const t=k.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"});let l;l={region_dim:a.region_dim},console.log(l),se(l).then(r=>{r.data.msg==="success"?(p.value=r.data.data,n.option_region_value=V(p,"region_value"),t.close()):(v.error(r.data.message),t.close())})},R=t=>{!t||t.validate(l=>{if(l){for(let m in a)if(a[m]=="")return v.warning(m+"\u503C\u4E0D\u80FD\u4E3A\u7A7A\uFF01"),!1;let r=Object.assign({},a);console.log(a),ne(r).then(m=>{m.data.msg==="success"?(v.success("\u63D0\u4EA4\u6210\u529F"),A()):v.error(m.data.msg)})}else return!1})},A=()=>{te().then(t=>{t.data.msg==="success"?(p.value=t.data.data,console.log(p.value)):v.error(t.data.message)})};A();const T=t=>{!t||t.resetFields()};return(t,l)=>{const r=le,m=ae,c=K,F=Q,b=Z,Y=ue,q=J,h=G,O=ee,i=W,$=X,j=H;return d(),_("div",null,[s("div",re,[u(m,{separator:"/"},{default:o(()=>[u(r,null,{default:o(()=>[ie,de]),_:1}),u(r,null,{default:o(()=>[pe]),_:1})]),_:1})]),s("div",_e,[me,s("div",ce,[u(O,{ref_key:"formRef",ref:f,model:a,"label-width":"120px"},{default:o(()=>[u(b,{label:"\u6570\u636E\u96C6\u540D\u79F0",prop:"tablename"},{default:o(()=>[u(F,{modelValue:a.name,"onUpdate:modelValue":l[0]||(l[0]=e=>a.name=e),placeholder:"\u65F6\u5E8F\u8868",style:{width:"480px"}},{default:o(()=>[(d(),_(E,null,g(B,e=>u(c,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),u(b,{label:"\u5EA6\u91CF\u7C7B\u578B",prop:"predpara"},{default:o(()=>[u(F,{modelValue:a.business_class,"onUpdate:modelValue":l[1]||(l[1]=e=>a.business_class=e),placeholder:"\u8BF7\u9009\u62E9",style:{width:"480px"}},{default:o(()=>[(d(),_(E,null,g(I,e=>u(c,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1}),u(b,{label:"\u54C1\u7C7B\u7EF4\u5EA6",prop:"para"},{default:o(()=>[u(F,{modelValue:a.class_dim,"onUpdate:modelValue":l[2]||(l[2]=e=>a.class_dim=e),onChange:M,placeholder:"\u8BF7\u9009\u62E9",style:{width:"240px"}},{default:o(()=>[(d(),_(E,null,g(U,e=>u(c,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),Fe,u(F,{modelValue:a.class_value,"onUpdate:modelValue":l[3]||(l[3]=e=>a.class_value=e),placeholder:"\u8BF7\u9009\u62E9",style:{width:"240px"}},{default:o(()=>[(d(!0),_(E,null,g(n.option_class_value,e=>(d(),x(c,{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),u(b,{label:"\u7EC4\u7EC7\u7EF4\u5EA6",prop:"predpara"},{default:o(()=>[u(F,{modelValue:a.region_dim,"onUpdate:modelValue":l[4]||(l[4]=e=>a.region_dim=e),onChange:N,placeholder:"\u8BF7\u9009\u62E9",style:{width:"240px"}},{default:o(()=>[(d(),_(E,null,g(L,e=>u(c,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),Ee,u(F,{modelValue:a.region_value,"onUpdate:modelValue":l[5]||(l[5]=e=>a.region_value=e),placeholder:"\u8BF7\u9009\u62E9",style:{width:"240px"}},{default:o(()=>[(d(!0),_(E,null,g(n.option_region_value,e=>(d(),x(c,{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),u(b,{label:"\u8F93\u51FA\u65F6\u95F4\u5C3A\u5EA6",prop:"region"},{default:o(()=>[u(F,{modelValue:a.time_scale,"onUpdate:modelValue":l[6]||(l[6]=e=>a.time_scale=e),placeholder:"\u8BF7\u9009\u62E9",style:{width:"240px"}},{default:o(()=>[(d(),_(E,null,g(S,e=>u(c,{key:e.value,label:e.label,value:e.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"]),ge,u(Y,{type:"date",placeholder:"\u9009\u62E9\u65E5\u671F",modelValue:a.start_sdate,"onUpdate:modelValue":l[7]||(l[7]=e=>a.start_sdate=e),"value-format":"YYYY-MM-DD",style:{width:"240px"}},null,8,["modelValue"]),be,u(q,{modelValue:a.daterange,"onUpdate:modelValue":l[8]||(l[8]=e=>a.daterange=e),placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9",style:{width:"240px"}},null,8,["modelValue"])]),_:1}),u(b,null,{default:o(()=>[u(h,{type:"primary",onClick:l[9]||(l[9]=e=>R(f.value))},{default:o(()=>[ve]),_:1}),u(h,{onClick:l[10]||(l[10]=e=>T(f.value))},{default:o(()=>[Ce]),_:1})]),_:1})]),_:1},8,["model"])]),s("div",fe,[u($,{data:p.value.slice((n.currentPage-1)*n.pagesize,n.currentPage*n.pagesize),"highlight-current-row":"",class:"table",ref:"multipleTable","header-cell-class-name":"table-header","header-cell-style":{color:"#e09037",background:"#ebf2f7"}},{default:o(()=>[u(i,{prop:"id",label:"ID",width:"55","text-align":"center"}),u(i,{prop:"business_class",label:"\u5EA6\u91CF\u7C7B\u578B"}),u(i,{prop:"class_dim",label:"\u54C1\u7C7B\u7EF4\u5EA6"}),u(i,{prop:"class_value",label:"\u54C1\u7C7B\u7EF4\u5EA6\u503C"}),u(i,{prop:"region_dim",label:"\u7EC4\u7EC7\u7EF4\u5EA6"}),u(i,{prop:"region_value",label:"\u7EC4\u7EC7\u7EF4\u5EA6\u503C"}),u(i,{prop:"time_scale",label:"\u8F93\u51FA\u65F6\u95F4\u5C3A\u5EA6"}),u(i,{prop:"start_sdate",label:"\u9884\u6D4B\u5F00\u59CB\u65F6\u95F4"}),u(i,{prop:"daterange",label:"\u9884\u6D4B\u533A\u95F4"}),u(i,{prop:"remark",label:"\u4EFB\u52A1\u72B6\u6001"}),u(i,{prop:"create_time",label:"\u521B\u5EFA\u65F6\u95F4"})]),_:1},8,["data"]),s("div",Be,[u(j,{background:"",layout:"total, prev, pager, next",onSizeChange:z,onCurrentChange:P,"current-page":n.currentPage,"page-sizes":[10,20,40,100],"page-size":n.pagesize,total:p.value.length},null,8,["current-page","page-size","total"])])])])])}}});export{je as default};
