import{d as w,dE as y,r as E,cq as h,l as I,dF as S,o as V,c as C,e as n,b as s,w as u,u as _,dG as b,aO as k,dH as x,g as D,a as N,p as T,h as q,_ as A}from"./index.31dccc3c.js";import{E as K,a as O}from"./el-form-item.353be619.js";import{E as U}from"./el-input.e896c99c.js";import{E as g}from"./index.65cd20df.js";import"./isEqual.cc623a36.js";import"./event.776e7e11.js";const f=r=>(T("data-v-e861cd74"),r=r(),q(),r),$={class:"login-wrap"},G={class:"ms-login"},H=f(()=>n("div",{class:"ms-title"},"\u7EA2\u8C46BI\u914D\u5957\u7CFB\u7EDF",-1)),J={class:"login-btn"},L=D("\u767B\u5F55"),M=f(()=>n("p",{class:"login-tips"},"Tips : \u7528\u6237\u540D\u548C\u5BC6\u7801\u968F\u4FBF\u586B\u3002",-1)),P=w({__name:"login",setup(r){const F=y(),o=E({username:"",password:""}),B={username:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D",trigger:"blur"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801",trigger:"blur"}]},p=h(),l=I(),i=d=>{!d||d.validate(e=>{if(e){g.success("\u767B\u5F55\u6210\u529F"),localStorage.setItem("ms_username",o.username);const t=p.defaultList[o.username];console.log("\u5F53\u524D\u7528\u6237\uFF1A",t),p.handleSet(t),localStorage.setItem("ms_keys",JSON.stringify(t)),F.push("/")}else return g.error("\u767B\u5F55\u5931\u8D25"),!1})};return S().clearTags(),(d,e)=>{const t=N,m=U,c=K,v=O;return V(),C("div",$,[n("div",G,[H,s(v,{model:o,rules:B,ref_key:"login",ref:l,"label-width":"0px",class:"ms-content"},{default:u(()=>[s(c,{prop:"username"},{default:u(()=>[s(m,{modelValue:o.username,"onUpdate:modelValue":e[0]||(e[0]=a=>o.username=a),placeholder:"username"},{prepend:u(()=>[s(t,{icon:_(b)},null,8,["icon"])]),_:1},8,["modelValue"])]),_:1}),s(c,{prop:"password"},{default:u(()=>[s(m,{type:"password",placeholder:"password",modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=a=>o.password=a),onKeyup:e[2]||(e[2]=k(a=>i(l.value),["enter"]))},{prepend:u(()=>[s(t,{icon:_(x)},null,8,["icon"])]),_:1},8,["modelValue"])]),_:1}),n("div",J,[s(t,{type:"primary",onClick:e[3]||(e[3]=a=>i(l.value))},{default:u(()=>[L]),_:1})]),M]),_:1},8,["model"])])])}}});const Z=A(P,[["__scopeId","data-v-e861cd74"]]);export{Z as default};
